<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GST Invoice Billing Software</title>

<!-- PDF LIBRARIES -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>

<style>
body{font-family:Arial;background:#f2f4f7;padding:20px}
.container{max-width:1100px;margin:auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1)}
input,textarea,select,button{padding:8px;margin:5px;border-radius:6px;border:1px solid #ccc;width:100%;max-width:350px}
button{background:#007bff;color:#fff;border:none;cursor:pointer;width:auto}
table{width:100%;border-collapse:collapse;margin-top:15px}
th,td{border:1px solid #ddd;padding:8px;text-align:center}
th{background:#007bff;color:#fff}
.total{font-size:16px;font-weight:bold;text-align:right;margin-top:6px}
</style>
</head>
<body>

<div class="container">
<h2>GST Invoice Billing</h2>

<!-- ================= SELLER ================= -->
<h3>Seller Details</h3>
<input type="text" id="sellerName" placeholder="Store Name">
<textarea id="sellerAddress" placeholder="Store Address"></textarea>
<input type="text" id="sellerGST" placeholder="GSTIN">
<input type="text" id="sellerState" placeholder="State Name & Code">


<!-- ================= BUYER ================= -->
<h3>Buyer Details</h3>
<input type="text" id="buyerName" placeholder="Buyer Name">
<textarea id="buyerAddress" placeholder="Buyer Address"></textarea>
<input type="text" id="buyerGST" placeholder="Buyer GSTIN">
<input type="text" id="buyerState" placeholder="State Name & Code">


<!-- ================= INVOICE ================= -->
<h3>Invoice Info</h3>
<input type="text" id="invoiceNo" placeholder="Invoice Number (Optional)">
<input type="date" id="invoiceDate">


<!-- ================= PRODUCT ================= -->
<h3>Add Product</h3>
<input type="text" id="itemName" placeholder="Item Name">
<input type="text" id="hsn" placeholder="HSN / SAC Code">
<input type="number" id="qty" placeholder="Quantity">
<input type="number" id="rate" placeholder="Rate">
<input type="number" id="gstPercent" placeholder="GST %">

<button onclick="addItem()">Add Item</button>

<table id="billTable">
<thead>
<tr>
<th>Description</th>
<th>HSN</th>
<th>Qty</th>
<th>Rate</th>
<th>GST %</th>
<th>Amount</th>
</tr>
</thead>
<tbody></tbody>
</table>

<div class="total">Taxable Value ₹ <span id="taxable">0</span></div>
<div class="total">CGST ₹ <span id="cgst">0</span></div>
<div class="total">SGST ₹ <span id="sgst">0</span></div>
<div class="total">IGST ₹ <span id="igst">0</span></div>
<div class="total">Grand Total ₹ <span id="grand">0</span></div>

<button onclick="downloadPDF()">Download GST Invoice PDF</button>

</div>

<script>

let items=[];
let taxable=0, cgst=0, sgst=0, igst=0, grand=0;

function addItem(){

const name=itemName.value;
const hsnCode=hsn.value;
const quantity=parseFloat(qty.value);
const price=parseFloat(rate.value);
const gstP=parseFloat(gstPercent.value)||0;

if(!name||isNaN(quantity)||isNaN(price)) return alert('Fill item');

let base=quantity*price;
let gstAmt=base*gstP/100;

// Split GST
let cg=gstAmt/2;
let sg=gstAmt/2;

items.push([name,hsnCode,quantity,price,gstP+'%',(base+gstAmt).toFixed(2)]);

const row=billTable.querySelector('tbody').insertRow();
row.insertCell(0).innerText=name;
row.insertCell(1).innerText=hsnCode;
row.insertCell(2).innerText=quantity;
row.insertCell(3).innerText=price;
row.insertCell(4).innerText=gstP+'%';
row.insertCell(5).innerText=(base+gstAmt).toFixed(2);

// Totals

taxable+=base;
cgst+=cg;
sgst+=sg;

grand=taxable+cgst+sgst+igst;

updateTotals();
}

function updateTotals(){

document.getElementById('taxable').innerText=taxable.toFixed(2);
document.getElementById('cgst').innerText=cgst.toFixed(2);
document.getElementById('sgst').innerText=sgst.toFixed(2);
document.getElementById('igst').innerText=igst.toFixed(2);
document.getElementById('grand').innerText=grand.toFixed(2);
}


function downloadPDF(){

const { jsPDF } = window.jspdf;
const doc=new jsPDF({unit:'mm',format:'a4'});

// Seller

doc.setFontSize(12);
doc.text(sellerName.value||'',14,15);
doc.text(sellerAddress.value||'',14,21,{maxWidth:90});
doc.text('GSTIN: '+(sellerGST.value||''),14,30);
doc.text('State: '+(sellerState.value||''),14,36);

// Buyer

doc.text('Bill To:',110,15);
doc.text(buyerName.value||'',110,21);
doc.text(buyerAddress.value||'',110,27,{maxWidth:80});
doc.text('GSTIN: '+(buyerGST.value||''),110,36);
doc.text('State: '+(buyerState.value||''),110,42);

// Invoice Box

doc.rect(150,50,50,20);
doc.text('Invoice No: '+(invoiceNo.value||'N/A'),152,58);
doc.text('Date: '+(invoiceDate.value||''),152,66);

// Table

doc.autoTable({
startY:80,
head:[['Description','HSN','Qty','Rate','GST %','Amount']],
body:items
});

let y=doc.lastAutoTable.finalY+10;

doc.text('Taxable Value: ₹ '+taxable.toFixed(2),130,y);
y+=6;
doc.text('CGST: ₹ '+cgst.toFixed(2),130,y);
y+=6;
doc.text('SGST: ₹ '+sgst.toFixed(2),130,y);
y+=6;
doc.text('IGST: ₹ '+igst.toFixed(2),130,y);
y+=6;
doc.text('Grand Total: ₹ '+grand.toFixed(2),130,y);

// Footer

doc.text('This is a Computer Generated GST Invoice',14,285);

doc.save('GST_Invoice.pdf');
}

</script>
</body>
</html>
